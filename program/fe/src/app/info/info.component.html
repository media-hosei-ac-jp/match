<div>
  <div *ngIf="stats">
  <h3>{{stats[0].recr.setting.title}}  募集ゼミ一覧</h3>
    青色で表示されているゼミは、すでに選考が終了したゼミです。
  </div>
  <div *ngIf="!stats"><i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>
 Now Loading...</div>

  <table *ngIf="stats" class="table table-striped table-bordered">
    <thead>
      <th>
        ゼミ名称
      </th>
      <th class="col-sm-4">
        ゼミ紹介
      </th>
      <th class="col-sm-4">
        選考方法
      </th>
      <th>
        紹介pdf
      </th>
      <th>
        リンク
      </th>
      <th>
        現1年生
      </th>
      <th>
        現2年生
      </th>
      <th>
        現3年生
      </th>
      <th>
        現4年生
      </th>
    </thead>
    <tbody>
      <tr *ngFor="let stat of stats" [ngClass]="{'info': stat.recr.confirmed}">
        <td>
          {{stat.recr.seminar.title}}
        </td>
        <td style="white-space: pre-wrap">{{stat.recr.seminar.description}}</td>
        <td>
          <div *ngIf="!stat.recr.showInfo">
            <div style="white-space: pre-wrap">{{stat.recr.info.substring(0, infoLength)}}<span *ngIf="stat.recr.info.length>infoLength"> ...
<span class="text-danger">{{infoLength}}文字を越えるため省略されています。</span><button  class="btn btn-default" (click)="stat.recr.showInfo=true">続きを表示する</button>
</span></div>
          </div>
          <div *ngIf="stat.recr.showInfo" style="white-space: pre-wrap">{{stat.recr.info}}</div>
        </td>
        <td>
          <!--
          <a *ngIf="stat.recr.seminar.file" href="#" id="download-{{stat.recr.seminar.id}}" style="display:none;">{{stat.recr.seminar.file.fileName}}</a>
        -->
          <a *ngIf="stat.recr.seminar.file" [href]="fileApiUrl+stat.recr.seminar.file.id">
            {{stat.recr.seminar.file.fileName}}
          </a>
        </td>
        <td>
          <a *ngIf="stat.recr.seminar.url" [href]="stat.recr.seminar.url" target="_blank">
          <span class="glyphicon glyphicon-info-sign"></span></a>
        </td>
        <td>
          {{stat.appCounts[1]}}/{{stat.recr.grade1}}
        </td>
        <td>
          {{stat.appCounts[2]}}/{{stat.recr.grade2}}
        </td>
        <td>
          {{stat.appCounts[3]}}/{{stat.recr.grade3}}
        </td>
        <td>
          {{stat.appCounts[4]}}/{{stat.recr.grade4}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
